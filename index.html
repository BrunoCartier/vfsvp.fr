
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>VF svp</title>
  <meta name="author" content="Simon Courtois (simonc)">

  
  <meta name="description" content="Source: Elixir for Rubyists part 2 par Nate West Voici une tentative de réponse aux questions de la partie 1. Immuable ?? Les variables d&#8217; &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://vfsvp.fr">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="VF svp" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">VF svp</a></h1>
  
    <h2>En français dans le texte</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="Suivre via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:vfsvp.fr" />
    <input class="search" type="text" name="q" results="0" placeholder="Rechercher..."/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/article/elixir-pour-les-rubyists-2">Elixir pour les rubyists (partie 2)</a></h1>
    
    
    
      <p class="meta">
        








  


<time datetime="2013-10-29T21:00:00+01:00" pubdate data-updated="true">29/10/2013</time>
        
        
         | <a href="/article/elixir-pour-les-rubyists-2#disqus_thread">Commentaires</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Source: <a href="http://www.natescottwest.com/blog/2013/09/26/elixir-for-rubyists-part-2/">Elixir for Rubyists part 2 par Nate West</a></p>

<p>Voici une tentative de réponse aux questions de la <a href="/article/elixir-pour-les-rubyists-1">partie 1</a>.</p>

<h2>Immuable ??</h2>

<p>Les variables d&#8217;Elixir sont immuables. Elles ne sont pas à assignation unique.
Je vous entends déjà dire &ldquo;Mais Nate ! Si on réassigne une variable, n&#8217;est-ce
pas une mutation ?&rdquo;. Non !</p>

<h2>Elixir assure la transparence référentielle des variables</h2>

<p>Transparence référentielle est une façon académique de dire &ldquo;quand je fais
quelque chose qui modifie une valeur, je peux toujours revenir à la valeur
originale&rdquo;. Jessica Kerr (<a href="https://twitter.com/jessitron">@jessitron</a>) appelle
cela &ldquo;données en entrée, données en sortie&rdquo; (<em>data in, data out</em>). Sous forme
de code :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Nate&quot;</span>
</span><span class='line'><span class="c1"># =&gt; &quot;Nate&quot;</span>
</span><span class='line'><span class="no">String</span><span class="o">.</span><span class="n">upcase</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; &quot;NATE&quot;</span>
</span><span class='line'><span class="n">name</span>
</span><span class='line'><span class="c1"># =&gt; &quot;Nate&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>String.upcase</code> est référentiellement transparent. Il retourne une nouvelle
valeur transformée mais ne modifie pas la valeur originale. On peut comparer
cela avec <code>String#upcase!</code> en Ruby.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">name</span> <span class="o">=</span> <span class="s2">&quot;Nate&quot;</span>
</span><span class='line'><span class="c1"># =&gt; &quot;Nate&quot;</span>
</span><span class='line'><span class="nb">name</span><span class="o">.</span><span class="n">upcase!</span>
</span><span class='line'><span class="c1"># =&gt; &quot;NATE&quot;</span>
</span><span class='line'><span class="nb">name</span>
</span><span class='line'><span class="c1"># =&gt; &quot;NATE&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p><code>String#upcase!</code> <em>n&#8217;est pas</em> référentiellement transparent. Non seulement il
retourne une valeur transformée mais modifie également la valeur originale.</p>

<p>Avec Elixir, dans le contexte d&#8217;une fonction vous ne pourrez pas modifier la
valeur d&#8217;une variable.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Nate&quot;</span>
</span><span class='line'><span class="c1"># =&gt; &quot;Nate&quot;</span>
</span><span class='line'><span class="n">capitalize</span> <span class="o">=</span> <span class="k">fn</span><span class="p">(</span><span class="n">string</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">string</span> <span class="o">=</span> <span class="no">String</span><span class="o">.</span><span class="n">upcase</span><span class="p">(</span><span class="n">string</span><span class="p">)</span> <span class="k">end</span>
</span><span class='line'><span class="c1"># =&gt; #Function&lt;6.80484245 in :erl_eval.expr/5&gt;</span>
</span><span class='line'><span class="n">capitalize</span><span class="o">.</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; &quot;NATE&quot;</span>
</span><span class='line'><span class="n">name</span>
</span><span class='line'><span class="c1"># =&gt; &quot;Nate&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>En quoi la transparence référentielle est importante ?</h2>

<p>Pour faire court, un code référentiellement transparent est simple à tester,
facile à comprendre et à rendre <em>threadsafe</em>. Si on a ceci en Ruby :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="n">greeting</span> <span class="o">=</span> <span class="s2">&quot;Hello&quot;</span>
</span><span class='line'><span class="n">do_something_to_string</span><span class="p">(</span><span class="n">greeting</span><span class="p">)</span>
</span><span class='line'><span class="n">print</span><span class="p">(</span><span class="n">greeting</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>On s&#8217;attend à ce que <code>greeting</code> ait la valeur &ldquo;Hello&rdquo; lorsque l&#8217;on appelle
<code>print</code> mais <code>do_something_to_string</code> a pu modifier la valeur de <code>greeting</code>.
D&#8217;autant plus si <code>greeting</code> est transmis un peu partout dans l&#8217;application et
passe par toutes sortes de <code>do_somethings</code>. Au moment d&#8217;afficher <code>greeting</code>, il
pourrait tout aussi bien contenir &ldquo;Game over !&rdquo;.</p>

<p>Pour en savoir plus :</p>

<ul>
<li><a href="http://confreaks.com/videos/2382-rmw2013-functional-principles-for-oo-development">Jessica Kerr’s Functional Principles (en)</a></li>
<li><a href="http://rubyrogues.com/115-rr-functional-and-object-oriented-programming-with-jessica-kerr/">Ruby Rogues Podcast: Functional and OO Programming (en)</a></li>
<li>Si vous pensez à d&#8217;autres ressources, dites le moi, je les ajouterai.</li>
</ul>


<h2>Un piège&hellip;</h2>

<p>Il est possible d&#8217;assigner une nouvelle valeur à une variable en se basant sur
sa valeur actuelle. Notez bien qu&#8217;ici <code>=</code> n&#8217;est pas un opérateur d&#8217;assignation.
C&#8217;est un opérateur de test de correspondance. Lorsque l&#8217;on utilise sur une
variable, on peut choisir de tester la valeur de la variable ou nous pouvons
l&#8217;autoriser à prendre une nouvelle valeur.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="m">1</span> <span class="o">=</span> <span class="m">2</span> <span class="c1"># la valeur 1 ne correspond pas à la valeur 2</span>
</span><span class='line'><span class="c1"># =&gt; ** (MatchError) aucune correspondance avec : 3</span>
</span><span class='line'><span class="c1">#    :erl_eval.expr/3</span>
</span><span class='line'>
</span><span class='line'><span class="ss">:a</span> <span class="o">=</span> <span class="m">2</span> <span class="c1"># la valeur :a, un atôme (un peu comme un symbole en Ruby),</span>
</span><span class='line'>       <span class="c1"># ne correspond pas à la valeur 2</span>
</span><span class='line'><span class="c1"># =&gt; ** (MatchError) aucune correspondance avec : 3</span>
</span><span class='line'><span class="c1">#    :erl_eval.expr/3</span>
</span><span class='line'>
</span><span class='line'><span class="n">num</span> <span class="o">=</span> <span class="m">2</span> <span class="c1"># num est une variable. Nous pouvons lui assigner 2 pour établir</span>
</span><span class='line'>        <span class="c1"># une correspondance.</span>
</span><span class='line'><span class="c1"># =&gt; 2</span>
</span><span class='line'>
</span><span class='line'><span class="o">^</span><span class="n">num</span> <span class="o">=</span> <span class="m">3</span> <span class="c1"># la valeur de num (2) ne correspond pas à la valeur 3</span>
</span><span class='line'><span class="c1"># =&gt; ** (MatchError) aucune correspondance avec : 3</span>
</span><span class='line'><span class="c1">#    :erl_eval.expr/3</span>
</span><span class='line'>
</span><span class='line'><span class="n">num</span> <span class="o">=</span> <span class="m">3</span> <span class="c1"># ici on ne cherche pas de correspondance, on peut donc assigner la</span>
</span><span class='line'>        <span class="c1"># valeur 3 à num</span>
</span><span class='line'><span class="c1"># =&gt; 3</span>
</span></code></pre></td></tr></table></div></figure>


<p>Tel que je le comprends, cela fait parti d&#8217;Elixir pour des questions pratique
et est particulièrement utile pour écrire des macros. Les puristes de la
programmation fonctionnelle vont détester ça. Si c&#8217;est votre cas, vous pouvez
lire <a href="https://groups.google.com/forum/#!searchin/elixir-lang-core/single$20assignment/elixir-lang-core/FrK7MQGuqWc/2aimbHDAAHMJ">cette discussion</a>
au sujet de la réassignation de variables dans Elixir et jeter un oeil au
commentaire de Joe Armstrong.</p>

<p>Encore une fois, cela ne change pas l&#8217;état de l&#8217;objet. Il n&#8217;y a pas d&#8217;objet dans
Elixir. <code>num</code> est un simple conteneur de données auquel vous pouvez donner une
nouvelle valeur. Lorsque vous le faites, l&#8217;ancienne valeur va être retirée du
contexte d&#8217;exécution afin de laisser la place libre pour stocker une nouvelle
valeur.</p>

<h2>Essayez donc de le briser</h2>

<p>Vous aurez tout de même beaucoup de mal à écrire une fonction qui brise la
transparence référentielle. Si vous réassignez une variable dans une fonction,
vous ne changez sa valeur que pour le contexte de cette fonction.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="k">defmodule</span> <span class="no">Assignment</span> <span class="k">do</span>
</span><span class='line'><span class="k">  def</span> <span class="n">change_me</span><span class="p">(</span><span class="n">string</span><span class="p">)</span> <span class="k">do</span>
</span><span class='line'><span class="k">    </span><span class="n">string</span> <span class="o">=</span> <span class="m">2</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="c1"># lorsque vous compilez ce module, vous aurez un warning indiquant</span>
</span><span class='line'><span class="c1"># qu&#39;une variable de type string n&#39;est pas utilisée!</span>
</span><span class='line'>
</span><span class='line'><span class="n">greeting</span> <span class="o">=</span> <span class="s2">&quot;Hi&quot;</span>
</span><span class='line'><span class="c1"># =&gt; &quot;Hi&quot;</span>
</span><span class='line'><span class="no">Assignment</span><span class="o">.</span><span class="n">change_me</span><span class="p">(</span><span class="n">greeting</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; 2</span>
</span><span class='line'><span class="n">greeting</span>
</span><span class='line'><span class="c1"># =&gt; &quot;Hi&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<h2>C&#8217;est tout pour aujourd&#8217;hui</h2>

<p>Voici la fin de la partie 2. À bientôt pour la partie 3.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/article/Git-est-une-structure-de-donnees-purement-fonctionnelle">Git est une structure de données purement fonctionnelle</a></h1>
    
    
    
      <p class="meta">
        








  


<time datetime="2013-10-28T23:00:00+01:00" pubdate data-updated="true">28/10/2013</time>
        
        
         | <a href="/article/Git-est-une-structure-de-donnees-purement-fonctionnelle#disqus_thread">Commentaires</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Source: <a href="http://www.jayway.com/2013/03/03/git-is-a-purely-functional-data-structure/">Git is a purely functional data structure de Philip Nilsson sur le blog de Jayway</a></p>

<p>Bien que les systèmes de gestion de versions décentralisés, comme Git, aient le
vent en poupe en ce moment, ils semblent toujours avoir la réputation d&#8217;être
plus complexes que leurs homologues centralisés, comme SVN. Je pense que l&#8217;une
des raisons est que l&#8217;on a tendance à expliquer Git par comparaison : lorsque tu
fait X avec SVN, tu fais Y avec Git.</p>

<p>Selon moi nous devrions plutôt présenter Git comme ce qu&#8217;il est : une structure
de données purement fonctionnelle. Devenir expert Git implique d&#8217;apprendre à
maitriser cette structure de données.</p>

<p>Si la notion de structure de données purement fonctionnelle vous est étrangère,
cela ne va pas vous être d&#8217;une grande aide. Il se trouve qu&#8217;un minimum de
connaissances sur le sujet suffit pour comprendre, nous allons donc passer
rapidement sur ce sujet avant de revenir à Git.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/article/Git-est-une-structure-de-donnees-purement-fonctionnelle">Lire la suite</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/article/elixir-pour-les-rubyists-1">Elixir pour les rubyists (partie 1)</a></h1>
    
    
    
      <p class="meta">
        








  


<time datetime="2013-10-27T18:30:00+01:00" pubdate data-updated="true">27/10/2013</time>
        
        
         | <a href="/article/elixir-pour-les-rubyists-1#disqus_thread">Commentaires</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Source: <a href="http://www.natescottwest.com/blog/2013/09/26/elixir-for-rubyists/">Elixir for Rubyists part 1 par Nate West</a></p>

<p>Elixir est mon nouveau langage préféré. Cet article est le premier d&#8217;une série
de longueur indéterminée sur Elixir. En tant que rubyist, la syntaxe d&#8217;Elixir va
vous sembler familière. Je vais donc vous montrer beaucoup de code pour
vous expliquer comment il marche. Elixir est fonctionnel et amusant
(FUNctional).</p>

<p>Elixir est un langage fonctionnel qui tourne sur la VM Erlang mais ressemble
beaucoup à Ruby.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="m">2</span> <span class="o">+</span> <span class="m">2</span>
</span><span class='line'><span class="c1"># =&gt; 4</span>
</span><span class='line'>
</span><span class='line'><span class="no">IO</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;Hello!&quot;</span>
</span><span class='line'><span class="c1"># =&gt; Hello!</span>
</span><span class='line'><span class="c1">#    :ok</span>
</span><span class='line'>
</span><span class='line'><span class="no">String</span><span class="o">.</span><span class="n">downcase</span><span class="p">(</span><span class="s2">&quot;JE NE CRIE PAS&quot;</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; &quot;je ne crie pas&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="k">defmodule</span> <span class="no">Numbers</span> <span class="k">do</span>
</span><span class='line'><span class="k">  def</span> <span class="n">add_to</span><span class="p">(</span><span class="n">num</span><span class="p">)</span> <span class="k">do</span>
</span><span class='line'><span class="k">    if</span> <span class="n">is_number</span><span class="p">(</span><span class="n">num</span><span class="p">)</span> <span class="k">do</span>
</span><span class='line'><span class="k">      </span><span class="n">num</span> <span class="o">+</span> <span class="m">2</span>
</span><span class='line'>    <span class="k">else</span>
</span><span class='line'>      <span class="k">raise</span><span class="p">(</span><span class="no">ArgumenError</span><span class="p">,</span> <span class="ss">message:</span> <span class="s2">&quot;L&#39;argument doit etre un nombre&quot;</span><span class="p">)</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="no">Numbers</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="m">4</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; 6</span>
</span><span class='line'><span class="no">Numbers</span><span class="o">.</span><span class="n">add_to</span><span class="p">(</span><span class="s2">&quot;Nate&quot;</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; ** (ArgumenError) L&#39;argument doit etre un nombre</span>
</span></code></pre></td></tr></table></div></figure>


<p>Elixir utilise la détection par motif (<em>pattern matching</em>) pour effectuer des
comparaisons et assigner des valeurs aux variables.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="n">a</span> <span class="o">=</span> <span class="m">2</span>
</span><span class='line'><span class="c1"># =&gt; 2</span>
</span><span class='line'>
</span><span class='line'><span class="m">2</span> <span class="o">=</span> <span class="n">a</span>
</span><span class='line'><span class="c1"># =&gt; 2</span>
</span><span class='line'>
</span><span class='line'><span class="p">{</span> <span class="n">success</span><span class="p">,</span> <span class="n">string</span> <span class="p">}</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">:ok</span><span class="p">,</span> <span class="s2">&quot;Hey Joe, tu sais quoi ?&quot;</span> <span class="p">}</span>
</span><span class='line'><span class="c1"># =&gt; {:ok, &quot;Hey Joe, tu sais quoi ?&quot;}</span>
</span><span class='line'><span class="n">success</span>
</span><span class='line'><span class="c1"># =&gt; :ok</span>
</span><span class='line'><span class="n">string</span>
</span><span class='line'><span class="c1"># =&gt; &quot;Hey Joe, tu sais quoi ?&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>Elixir est fonctionnel, les variables sont donc immuables. Cependant,
contrairement à Erlang, ces dernières ne sont pas limitées à une seule
assignation. Si vous voulez détecter le motif de la valeur d&#8217;une variable, vous
devez utiliser un circonflexe <code>^</code>. Sans le circonflexe vous pouvez assigner une
nouvelle valeur à la variable.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="n">a</span> <span class="o">=</span> <span class="m">2</span>
</span><span class='line'><span class="c1"># =&gt; 2</span>
</span><span class='line'><span class="o">^</span><span class="n">a</span> <span class="o">=</span> <span class="m">3</span>
</span><span class='line'><span class="c1"># =&gt; ** (MatchError) aucune correspondance avec : 3</span>
</span><span class='line'><span class="c1">#    :erl_eval.expr/3</span>
</span><span class='line'><span class="n">a</span> <span class="o">=</span> <span class="m">3</span>
</span><span class='line'><span class="c1"># =&gt; 3</span>
</span></code></pre></td></tr></table></div></figure>


<p>Comme tout langage fonctionnel, Elixir traite les fonctions comme des citoyens
de premier ordre. Vous pouvez assigner une fonction à une variable pour une
évaluation différée. Notez l&#8217;interpolation de chaîne dans l&#8217;exemple suivant,
une autre ressemblance à Ruby.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="n">greeter</span> <span class="o">=</span> <span class="k">fn</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="no">IO</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&quot;Hello </span><span class="si">#{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">end</span>
</span><span class='line'><span class="c1"># =&gt; #Function&lt;6.80484245 in :erl_eval.expr/5&gt;</span>
</span><span class='line'><span class="n">greeter</span><span class="o">.</span><span class="p">(</span><span class="s2">&quot;Nate&quot;</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; Hello Nate</span>
</span><span class='line'><span class="c1">#    :ok</span>
</span></code></pre></td></tr></table></div></figure>


<p>Vous pouvez écrire des fonctions qui retournent des fonctions.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="k">defmodule</span> <span class="no">FunctionExamples</span> <span class="k">do</span>
</span><span class='line'><span class="k">  def</span> <span class="n">build_greeter</span><span class="p">(</span><span class="n">kind</span><span class="p">)</span> <span class="k">do</span>
</span><span class='line'><span class="k">    case</span> <span class="n">kind</span> <span class="k">do</span>
</span><span class='line'><span class="k">      </span><span class="ss">:hello</span> <span class="o">-&gt;</span> <span class="k">fn</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Coucou, </span><span class="si">#{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span> <span class="k">end</span>
</span><span class='line'>      <span class="ss">:goodbye</span> <span class="o">-&gt;</span> <span class="k">fn</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;A plus, </span><span class="si">#{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span> <span class="k">end</span>
</span><span class='line'>      <span class="n">_</span> <span class="o">-&gt;</span> <span class="k">fn</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s2">&quot;Je ne sais pas quoi te dire, </span><span class="si">#{</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span> <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">say_hello</span> <span class="o">=</span> <span class="no">FunctionExamples</span><span class="o">.</span><span class="n">build_greeter</span><span class="p">(</span><span class="ss">:hello</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; #Function&lt;0.63189797 in FunctionExamples.build_greeter/1&gt;</span>
</span><span class='line'><span class="n">say_hello</span><span class="o">.</span><span class="p">(</span><span class="s2">&quot;Nate&quot;</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; Coucou, Nate!</span>
</span><span class='line'><span class="c1">#    :ok</span>
</span><span class='line'>
</span><span class='line'><span class="n">wat</span> <span class="o">=</span> <span class="no">FunctionExamples</span><span class="o">.</span><span class="n">build_greeter</span><span class="p">(</span><span class="ss">:something_else</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; #Function&lt;2.63189797 in FunctionExamples.build_greeter/1&gt;</span>
</span><span class='line'><span class="n">wat</span><span class="o">.</span><span class="p">(</span><span class="s2">&quot;Nate&quot;</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; &quot;Je ne sais pas quoi te dire, Nate.&quot;</span>
</span><span class='line'><span class="c1">#    :ok</span>
</span></code></pre></td></tr></table></div></figure>


<p>Comme dans d&#8217;autres langages fonctionnels, plutôt que de reposer sur des
boucles, Elixir utilise énormément la récursivité. Cela dit, le module <code>Enum</code>
fournit quelques fonctions bien connues des rubyists, comme <code>each</code> par exemple.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class='elixir'><span class='line'><span class="no">Enum</span><span class="o">.</span><span class="n">each</span><span class="p">([</span><span class="s2">&quot;Joe&quot;</span><span class="p">,</span> <span class="s2">&quot;Matz&quot;</span><span class="p">,</span> <span class="s2">&quot;Jose&quot;</span><span class="p">],</span> <span class="k">fn</span> <span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="no">IO</span><span class="o">.</span><span class="n">puts</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="k">end</span><span class="p">)</span>
</span><span class='line'><span class="c1"># =&gt; Joe</span>
</span><span class='line'><span class="c1"># =&gt; Matz</span>
</span><span class='line'><span class="c1"># =&gt; Jose</span>
</span><span class='line'><span class="c1"># =&gt; :ok</span>
</span><span class='line'>
</span><span class='line'><span class="k">defmodule</span> <span class="no">RecursionExamples</span> <span class="k">do</span>
</span><span class='line'><span class="k">  def</span> <span class="n">recurse</span><span class="p">([])</span> <span class="k">do</span>
</span><span class='line'><span class="k">    </span><span class="ss">:ok</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'>  <span class="k">def</span> <span class="n">recurse</span><span class="p">([</span><span class="n">head</span><span class="o">|</span><span class="n">tail</span><span class="p">])</span> <span class="k">do</span>
</span><span class='line'><span class="k">    </span><span class="no">IO</span><span class="o">.</span><span class="n">puts</span> <span class="n">head</span>
</span><span class='line'>    <span class="n">recurse</span><span class="p">(</span><span class="n">tail</span><span class="p">)</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="no">RecursionExamples</span><span class="o">.</span><span class="n">recurse</span><span class="p">([</span><span class="s2">&quot;Joe&quot;</span><span class="p">,</span> <span class="s2">&quot;Matz&quot;</span><span class="p">,</span> <span class="s2">&quot;Jose&quot;</span><span class="p">])</span>
</span><span class='line'><span class="c1"># =&gt; Joe</span>
</span><span class='line'><span class="c1"># =&gt; Matz</span>
</span><span class='line'><span class="c1"># =&gt; Jose</span>
</span><span class='line'><span class="c1"># =&gt; :ok</span>
</span></code></pre></td></tr></table></div></figure>


<p>C&#8217;est tout pour cette première partie. À bientôt pour <a href="/article/elixir-pour-les-rubyists-2">la deuxième</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/article/6-facons-de-reduire-la-souffrance-des-tests-fonctionnels-avec-Rails">6 façons de réduire la souffrance due aux tests fonctionnels avec Rails</a></h1>
    
    
    
      <p class="meta">
        








  


<time datetime="2013-10-12T13:00:00+02:00" pubdate data-updated="true">12/10/2013</time>
        
        
         | <a href="/article/6-facons-de-reduire-la-souffrance-des-tests-fonctionnels-avec-Rails#disqus_thread">Commentaires</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Source: <a href="http://gaslight.co/blog/6-ways-to-remove-pain-from-feature-testing-in-ruby-on-rails">6 Ways to Remove Pain From Feature Testing in Ruby on Rails de Mitch Lloyd</a></p>

<p>L&#8217;écriture des tests fonctionnels a été une des parts les plus douloureuses de
mon travail avec Ruby on Rails. Mais aujourd&#8217;hui c&#8217;est quelque chose que
j&#8217;apprécie et voici pourquoi :</p>

<h2>1. Je n&#8217;utilise pas Cucumber</h2>

<p><strong>Attention:</strong> Le point de vue exprimé dans le paragraphe suivant ne reflète pas
forcement celui de l&#8217;équipe ou des partenaires de Gaslight Software, LLC.</p>

<p>Si vous avez installé Cucumber, supprimez-le. Les tests sont déjà assez
difficiles sans que l&#8217;on ait besoin de transformer le langage naturel en code
Ruby.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/article/6-facons-de-reduire-la-souffrance-des-tests-fonctionnels-avec-Rails">Lire la suite</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/article/les-methodes-pack-et-unpack-en-ruby">Les méthodes pack et unpack en Ruby</a></h1>
    
    
    
      <p class="meta">
        








  


<time datetime="2013-10-07T10:00:00+02:00" pubdate data-updated="true">07/10/2013</time>
        
        
         | <a href="/article/les-methodes-pack-et-unpack-en-ruby#disqus_thread">Commentaires</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Source: <a href="http://blog.bigbinary.com/2011/07/20/ruby-pack-unpack.html">Ruby Pack Unpack de Neeraj Singh sur le blog de BigBinary</a></p>

<p>Le langage C permet aux développeurs d&#8217;accéder directement à la mémoire où sont
stockées les variables. Ruby ne le permet pas. Il est cependant des cas dans
lesquels on peut avoir besoin d&#8217;accéder aux bits et octets contenus dans cette
mémoire tout en travaillant avec Ruby. Ce dernier fournit deux méthods <code>pack</code> et
<code>unpack</code> pour cela.</p>

<p>Voici un exemple :</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="s1">&#39;A&#39;</span><span class="o">.</span><span class="n">unpack</span><span class="p">(</span><span class="s1">&#39;b*&#39;</span><span class="p">)</span>
</span><span class='line'><span class="c1">#=&gt; [&quot;10000010&quot;]</span>
</span></code></pre></td></tr></table></div></figure>




</div>
  
  
    <footer>
      <a rel="full-article" href="/article/les-methodes-pack-et-unpack-en-ruby">Lire la suite</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/article/utiliser-les-expressions-regulieres-en-ruby-3-sur-3">Utiliser les Expressions Régulières en Ruby (3/3)</a></h1>
    
    
    
      <p class="meta">
        








  


<time datetime="2013-10-05T12:00:00+02:00" pubdate data-updated="true">05/10/2013</time>
        
        
         | <a href="/article/utiliser-les-expressions-regulieres-en-ruby-3-sur-3#disqus_thread">Commentaires</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Source: <a href="http://www.bluebox.net/about/blog/2013/03/using-regular-expressions-in-ruby-part-3-of-3/">Using Regular Expressions in Ruby de Nell Shamrell sur le blog de Blue Box</a></p>

<p>Voici la seconde partie dans une série sur les Expressions Régulières en Ruby.
Vous pouvez lire la
<a href="/article/utiliser-les-expressions-regulieres-en-ruby-1-sur-3">première partie ici</a> et la
<a href="/article/utiliser-les-expressions-regulieres-en-ruby-2-sur-3">deuxième partie ici</a>.</p>

<h2>Le comportement des Expressions Régulières</h2>

<p>Les expressions régulières sont puissantes. Comme un célèbre super-héros l&#8217;a dit
un jour &ldquo;with great power comes great responsibility&rdquo; (à grands pouvoirs,
grande responsabilité). Pour éviter qu&#8217;une expression régulière ne cause une
catastrophe, vous devez être capable d&#8217;en contrôler le comportement.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/article/utiliser-les-expressions-regulieres-en-ruby-3-sur-3">Lire la suite</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/article/utiliser-les-expressions-regulieres-en-ruby-2-sur-3">Utiliser les Expressions Régulières en Ruby (2/3)</a></h1>
    
    
    
      <p class="meta">
        








  


<time datetime="2013-10-05T12:00:00+02:00" pubdate data-updated="true">05/10/2013</time>
        
        
         | <a href="/article/utiliser-les-expressions-regulieres-en-ruby-2-sur-3#disqus_thread">Commentaires</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Source: <a href="http://www.bluebox.net/about/blog/2013/03/using-regular-expressions-in-ruby-part-2-of-3/">Using Regular Expressions in Ruby de Nell Shamrell sur le blog de Blue Box</a></p>

<p>Voici la seconde partie dans une série sur les Expressions Régulières en Ruby.
Vous pouvez lire la
<a href="/article/utiliser-les-expressions-regulieres-en-ruby-1-sur-3">première partie ici</a> et la
<a href="/article/utiliser-les-expressions-regulieres-en-ruby-3-sur-3">troisième partie ici</a>.</p>

<h2>Les LookArounds</h2>

<p>Les lookarounds me permettent d&#8217;aller plus loin que la simple comparaison avec
un modèle. En effet, ils offrent la possibilité de donner un contexte à cette
comparaison. Une expression contenant un lookaround ne retourne un résultat que
lorsqu&#8217;elle est effectuée dans ce contexte.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/article/utiliser-les-expressions-regulieres-en-ruby-2-sur-3">Lire la suite</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/article/utiliser-les-expressions-regulieres-en-ruby-1-sur-3">Utiliser les Expressions Régulières en Ruby (1/3)</a></h1>
    
    
    
      <p class="meta">
        








  


<time datetime="2013-10-05T12:00:00+02:00" pubdate data-updated="true">05/10/2013</time>
        
        
         | <a href="/article/utiliser-les-expressions-regulieres-en-ruby-1-sur-3#disqus_thread">Commentaires</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Source: <a href="http://www.bluebox.net/about/blog/2013/02/using-regular-expressions-in-ruby-part-1-of-3/">Using Regular Expressions in Ruby de Nell Shamrell sur le blog de Blue Box</a></p>

<p>Voici la première partie d&#8217;une série sur les Expressions Régulières en Ruby.
Vous pouvez lire la
<a href="/article/utiliser-les-expressions-regulieres-en-ruby-2-sur-3">deuxième partie ici</a> et la
<a href="/article/utiliser-les-expressions-regulieres-en-ruby-3-sur-3">troisième partie ici</a>.</p>

<h2>Introduction</h2>

<p>Pour être honnête, la première fois que j&#8217;ai vu une expression régulière,
j&#8217;étais intimidée. Cela semblait si cryptique et mystérieux. Je peinais à voir
comment la comprendre et a fortiori en écrire une. Encore récemment, je
n&#8217;utilisais les expressions régulières qu&#8217;en cas d&#8217;absolue nécessité (une
validation d&#8217;email par ici, un remplacement basique par là). Cela m&#8217;a empêché
d&#8217;approfondir ma connaissance de leur utilisation en Ruby. Ruby travaille avec
les expressions régulière dans une harmonie, une symphonie de code. Pour
exploiter pleinement Ruby, je devais surpasser mon intimidation, ma peur des
expressions régulières.</p>

<p>J&#8217;ai dépassé cette peur. Comme toute chose dans la vie, les expressions
régulières semblent insurmontables jusqu&#8217;à ce qu&#8217;on les découpe. Je veux vous
aider à dépasser votre peur des expressions régulières. Pour cela, je vais les
découper, étape par étape, et vous guider au travers du concept d&#8217;expressions
régulières en Ruby et ce jusqu&#8217;aux techniques avancées. J&#8217;espère que vous verrez
la beauté, surpasserez votre intimidation et les adopterez dans votre code.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/article/utiliser-les-expressions-regulieres-en-ruby-1-sur-3">Lire la suite</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
    <a href="/blog/archives">Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>VF svp</h1>
  <p>VF svp est un projet communautaire de traduction d&#8217;articles techniques.
    Pour proposer une traduction, rendez-vous sur
    <a href="http://github.com/simonc/vfsvp.fr" title="Page Github du projet VF svp">le Github du projet</a>.</p>
</section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Simon Courtois (simonc) -
  <span class="credit">Publié grâce à <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  
<script type="text/javascript">
    var disqus_shortname = 'vfsvp';
    
      var disqus_script = 'count.js';
    
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  <script src="/javascripts/modernizr-2.0.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
<script src="/javascripts/octopress.js" type="text/javascript"></script>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-15419839-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>



</body>
</html>
